아래는 요청하신 대로 **출처 표기 부분을 모두 삭제한 PRD A 정리본**입니다.
구조와 내용은 유지하고, 요구사항만 남깁니다.

---

# PRD A

## OUTBRAIN – Memory & Reasoning Core

> 담당 영역: **데이터 생성 · 저장 · 검색 · 추론**
> UI/시각화 책임 없음

---

## 1. Overview

본 문서는 OUTBRAIN의
**입력, 의미 메모리, 관계 메모리, 검색 오케스트레이션, 추론 시스템**에 대한
기능·비기능 요구사항을 정의합니다.

---

## 2. Scope (In-Scope)

* Input System
* Data Curation System (NeMo Curator)
* Vector Memory System
* Graph Memory System
* Search Orchestration System
* Reasoning System

---

## 3. Functional Requirements

### FR-A1. 사용자 기록 입력 처리

* 시스템은 사용자로부터 일기 또는 자유 형식 텍스트를 입력받아야 합니다.
* 기록에는 날짜 및 시간이 자동으로 부여되어야 합니다.
* 인물, 장소, 감정 메타데이터를 선택적으로 수용해야 합니다.
* 기록 내용으로부터 감정을 자동 추출해야 합니다.

---

### FR-A2. 의미 기반 저장 (Vector Memory)

* 입력된 기록은 의미 임베딩되어 VectorDB에 저장되어야 합니다.
* 시스템은 질문 또는 검색 시 의미적으로 유사한 기록을 검색할 수 있어야 합니다.
* 검색 시 시간적 거리와 의미 유사도를 함께 고려해야 합니다.

---

### FR-A3. 관계 기반 저장 (Graph Memory)

* 기록은 다음 노드 유형으로 구조화되어야 합니다.

  * Event
  * Person
  * Emotion
  * Action
  * Outcome
* 노드 간에는 의미 있는 관계(간선)가 생성되어야 합니다.
* 동일 인물, 감정, 상황의 반복은 관계 누적으로 표현되어야 합니다.

---

### FR-A4. 시간축 기반 탐색 데이터 제공

* 모든 기록은 시간 순으로 조회 가능해야 합니다.
* 특정 시점을 기준으로 과거 기록을 탐색할 수 있어야 합니다.
* 시간축과 관계축 탐색을 위한 데이터 구조를 제공해야 합니다.

---

### FR-A5. 검색 요청 처리

* 시스템은 키워드 또는 자연어 검색 요청을 처리해야 합니다.
* 검색 대상은 다음을 포함해야 합니다.

  * 일기 원문
  * 인물
  * 감정
  * 사건
* 검색 결과는 관련 기록의 집합으로 반환되어야 합니다.

---

### FR-A6. 검색 컨텍스트 그래프 생성

* 검색 결과를 기반으로 그래프 구조의 컨텍스트 데이터를 생성해야 합니다.
* 검색 조건과 직접 연관된 노드를 식별해야 합니다.
* 주요 관계 노드를 함께 포함해야 합니다.

---

### FR-A7. 질문 처리

* 시스템은 자연어 질문을 입력받을 수 있어야 합니다.
* 질문은 개인 기록을 참조하는 형태여야 합니다.
* 원인 분석, 반복 패턴, 관계 중심 질문을 지원해야 합니다.

---

### FR-A8. 추론 경로 생성

* 질문에 대해 단순 답변이 아닌 추론 경로를 생성해야 합니다.
* 추론 경로에는 관련 기록, 노드, 간선이 포함되어야 합니다.
* 추론 결과는 개인 기록에 기반해야 합니다.

---

### FR-A9. 검색–질문 연계 처리

* 검색 결과 그래프는 질문 시 초기 컨텍스트로 활용되어야 합니다.
* 질문 결과는 기존 검색 컨텍스트에 누적될 수 있어야 합니다.

---

## 4. Non-Functional Requirements

### NFR-A1. 데이터 일관성

* VectorDB와 GraphDB 간 데이터 정합성이 유지되어야 합니다.
* 기록 삭제 시 모든 관련 데이터는 함께 제거되어야 합니다.

---

### NFR-A2. 확장성

* 기록 수 증가에도 검색 성능이 급격히 저하되지 않아야 합니다.
* 노드 및 간선 수 확장에 대응 가능해야 합니다.

---

### NFR-A3. 검색 성능

* 검색 요청에 대한 결과 데이터 생성은 수 초 이내에 완료되어야 합니다.
* 검색 범위 확장 시 점진적 데이터 제공을 지원해야 합니다.

---

### NFR-A4. 설명 가능성

* 추론 결과는 근거 기반 구조를 유지해야 합니다.
* 추론 경로는 구조화된 데이터 형태로 제공되어야 합니다.

---

### NFR-A5. 개인정보 보호

* 모든 데이터는 사용자 단위로 분리되어야 합니다.
* 사용자 간 데이터 접근은 허용되어서는 안 됩니다.
 